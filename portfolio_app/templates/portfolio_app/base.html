{# /opt/easyportfolio_django_app/portfolio_app/templates/portfolio_app/base.html #}
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Aldrich&family=Michroma&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css"/>

    <title>EasyPortfolio Django - {% block title %}Standardtitel{% endblock %}</title>
    <style>
        body {
            background-color: #0c121c; 
            color: #d1d9e6; /* Standard-Textfarbe, bereits recht hell */          
            font-family: 'Open Sans', 'Roboto', sans-serif; 
            font-weight: 400; 
            font-size: 0.925rem; 
            margin: 0;
            padding: 0; 
            line-height: 1.6; 
            padding-top: 65px; 
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            letter-spacing: 0.01em; 
        }

        /* Verbessere Lesbarkeit für .text-muted global */
        .text-muted {
            color: #9ab8d9 !important; /* Helleres, leicht bläuliches Grau für .text-muted */
        }
        small, .small { /* Stellt sicher, dass auch small-Texte die hellere .text-muted Farbe bekommen, wenn sie kombiniert werden */
            font-size: 0.8rem; /* Etwas kleiner für 'small' */
        }
        .form-text.text-muted { /* Speziell für Formular-Hilfetexte */
             color: #9ab8d9 !important;
             font-size: 0.78rem;
        }


        .site-header {
            background-color: #111927; 
            padding: 0 30px; 
            display: flex;
            justify-content: space-between; 
            align-items: center;
            border-bottom: 1px solid #223044; 
            position: fixed; 
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1030; 
            box-sizing: border-box; 
            height: 65px; 
        }
        .site-header .logo a {
            font-family: 'Michroma', sans-serif; 
            color: #70a0ff; 
            font-size: 22px; 
            font-weight: 600; 
            text-decoration: none;
            letter-spacing: 0.5px;
        }
        .site-header nav ul {
            list-style: none; margin: 0; padding: 0; display: flex;
        }
        .site-header nav ul li {
            margin-left: 28px; 
        }
        .site-header nav ul li a {
            font-family: 'Aldrich', sans-serif;
            color: #b0c4de; 
            text-decoration: none;
            font-size: 14px; 
            padding: 5px 0; 
            border-bottom: 2px solid transparent; 
            transition: color 0.2s ease, border-bottom-color 0.2s ease;
            letter-spacing: 0.3px;
        }
        .site-header nav ul li a:hover,
        .site-header nav ul li a.active { 
            color: #ffffff; 
            border-bottom-color: #70a0ff; 
        }

        .main-content-area {
            padding: 15px 20px; 
        }
        
        .content-container { 
            max-width: 1250px; 
            margin: 20px auto; 
            padding: 20px 25px; 
            background-color: #101829; 
            border: 1px solid #223044; 
            border-radius: 6px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.3); 
        }
        /* Für volle Breite, wenn .container-fluid verwendet wird */
        .container-fluid.content-container { /* Spezifischer, wenn beide Klassen da sind */
             max-width: none !important; /* Hebt die max-width Beschränkung auf */
        }
        .container-fluid { /* Stellt sicher, dass padding für volle Breite passt */
            padding-left: 25px;
            padding-right: 25px;
        }


        h1, h2 {
             font-family: 'Michroma', 'Aldrich', sans-serif;
             color: #e8eff7; 
             font-weight: 600; 
             margin-top: 0.5em;
             margin-bottom: 0.8em; 
             letter-spacing: 0.1px;
        }
        h1.h2 { 
            color: #70a0ff; 
            font-size: 1.5rem; 
            border-bottom: 1px solid #223044; 
            padding-bottom: 0.6em;
            margin-bottom: 1.2em; 
        }
        .lead { 
            font-size: 1rem; 
            font-weight: 400;
            color: #b0c4de; 
            margin-bottom: 1.5rem;
        }

        /* Tabellen-Styling Stark Vereinfacht und Entfärbt */
        .table {
            color: #c5d1de; 
            border-color: #223044; 
            margin-bottom: 1.5rem; 
            font-size: 0.85rem; 
            border-collapse: separate; 
            border-spacing: 0;
        }
        .table th, .table td {
            border-color: #223044;
            vertical-align: middle;
            padding: 0.55rem 0.7rem; 
            border-bottom-width: 1px; 
            border-top-width: 0;
            border-left-width: 0;
            border-right-width: 0;
            background-color: transparent !important; 
        }
        .table th:first-child, .table td:first-child { border-left-width: 1px; } 
        .table th:last-child, .table td:last-child { border-right-width: 1px; } 
        
        .table-striped > tbody > tr:nth-of-type(odd) > * {
            background-color: transparent !important; 
        }
        .table-hover > tbody > tr:hover > * {
            background-color: rgba(34, 48, 68, 0.7) !important; 
            color: #ffffff !important;
        }
        
        .table thead th { 
            background-color: #1a2433 !important; 
            color: #e0e6ed !important; 
            border-bottom-width: 2px !important; 
            border-top-width: 1px !important; 
            border-color: #2c3e50 !important;
            font-weight: 600; 
            font-size: 0.875rem; 
            text-transform: uppercase; 
            letter-spacing: 0.05em;
        }
        .table thead th:first-child { border-top-left-radius: 5px; } 
        .table thead th:last-child { border-top-right-radius: 5px; }
        .table tbody tr:last-child td:first-child { border-bottom-left-radius: 5px; } 
        .table tbody tr:last-child td:last-child { border-bottom-right-radius: 5px; }

        .table td small.text-danger { 
            color: #e46773 !important; 
            font-weight: 500;
        }
        
        /* Choices.js (weitgehend beibehalten) */
        .choices { margin-bottom: 1.2rem; }
        .choices__inner {
            background-color: #0a101f; border: 1px solid #2c3e50; color: #c5d1de;
            border-radius: 0.25rem; padding: 0.35rem 0.75rem; font-size: 0.9rem; 
            min-height: calc(1.5em + 0.7rem + 2px); 
        }
        .choices__input, .choices__input::placeholder {
            background-color: transparent; color: #c5d1de; font-size: 0.9rem; padding: 0; margin-bottom: 0; 
        }
        .choices__list--dropdown, .choices__list[aria-expanded] {
            background-color: #101829; border: 1px solid #2c3e50; border-top: none; 
            border-radius: 0 0 0.25rem 0.25rem; z-index: 1001; 
        }
        .choices__list--dropdown .choices__item--selectable,
        .choices__list[aria-expanded] .choices__item--selectable {
            padding: 0.3rem 0.8rem; font-size: 0.85rem; 
        }
        .choices__list--dropdown .choices__item--selectable.is-highlighted,
        .choices__list[aria-expanded] .choices__item--selectable.is-highlighted {
            background-color: #1c2a39; 
        }
        .choices__item { color: #c5d1de; }
        .choices[data-type*="select-one"]::after { 
            border-color: #c5d1de transparent transparent transparent; margin-top: -4px; right: 12px; 
        }
        .choices[data-type*="select-one"].is-open::after { 
            border-color: transparent transparent #c5d1de transparent; margin-top: -2px; 
        }

        /* Styling für Django Messages (Bootstrap Alerts) */
        .django-messages-container {
            position: fixed; top: 75px; left: 50%;
            transform: translateX(-50%); z-index: 1040; 
            width: auto; min-width: 320px; max-width: 50%; 
        }
        .alert { 
            color: #e8eff7; background-color: #1c2a39; border: 1px solid #2c3e50; 
            box-shadow: 0 3px 10px rgba(0,0,0,0.4); padding: 0.75rem 1.1rem; 
            border-radius: 0.25rem; font-size: 0.875rem;
        }
        .alert .btn-close { filter: invert(1) grayscale(100%) brightness(200%); }
        .alert-success { color: #d1e7dd; background-color: #146c43; border-color: #198754; }
        .alert-info { color: #a6d8f8; background-color: #055160; border-color: #087990; }
        .alert-warning { color: #e9c46a; background-color: #3e300a; border-color: #725713; }
        .alert-danger { color: #f8d7da; background-color: #842029; border-color: #a9323c; }
        .alert-heading { color: inherit; }

    </style>
    {% block extra_head %}{% endblock %}
</head>
<body>
    <header class="site-header">
        <div class="logo">
            <a href="https://www.easyportfolio.de/" target="_top">easyPortfolio</a>
        </div>
        <nav>
            <ul>
                <li><a href="{% url 'portfolio_app:startseite' %}" {% if request.resolver_match.url_name == 'startseite' %}class="active"{% endif %}>Tool-Start</a></li>
                <li><a href="{% url 'portfolio_app:einzel_wp_ansicht' %}" {% if request.resolver_match.url_name == 'einzel_wp_ansicht' %}class="active"{% endif %}>Einzel-WP</a></li>
                <li><a href="{% url 'portfolio_app:eodhd_data_hub' %}" {% if request.resolver_match.url_name == 'eodhd_data_hub' or 'update_eodhd_security' in request.resolver_match.url_name or 'import_eodhd_security' in request.resolver_match.url_name %}class="active"{% endif %}>EODHD-Hub</a></li> 
                <li><a href="{% url 'portfolio_app:experten_portfolio_ansicht' %}" {% if request.resolver_match.url_name == 'experten_portfolio_ansicht' %}class="active"{% endif %}>Experten-PF</a></li>
                {% if user.is_staff %}
                <li><a href="{% url 'admin:index' %}" {% if 'admin' in request.path %}class="active"{% endif %}>Admin</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    {% if messages %}
        <div class="django-messages-container">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <main class="main-content-area">
        {% block content %}
            {# Standard-Container für begrenzte Breite, wenn Kind-Template keinen eigenen Container setzt #}
            <div class="content-container"> 
                 <p>Willkommen bei EasyPortfolio Django! Bitte wählen Sie eine Funktion aus der Navigation.</p>
            </div>
        {% endblock %}
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    {% block extra_scripts %}{% endblock %}
</body>
</html>
